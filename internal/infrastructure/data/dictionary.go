package data

import (
	"errors"
	"math/rand"

	"gitlab.education.tbank.ru/backend-academy-go-2025/homeworks/hw1-hangman/internal/domain"
)

// Словарь слов для игры "Виселица".
// Сложность слова зависит от его длины
var Dictionary = []domain.Word{
	// Категория: животные
	domain.NewWord("кот", "животные", 1, "Домашнее животное, любит ловить мышей"),
	domain.NewWord("бык", "животные", 1, "Сельскохозяйственное животное, самец коровы"),
	domain.NewWord("осел", "животные", 1, "Сельскохозяйственное животное, похожее на лошадь"),
	domain.NewWord("лев", "животные", 1, "Крупная кошка, царь зверей"),
	domain.NewWord("лось", "животные", 2, "Лесной обитатель с большими рогами"),
	domain.NewWord("волк", "животные", 2, "Хищник, живущий в стаях"),
	domain.NewWord("лиса", "животные", 2, "Хитрое животное с пушистым хвостом"),
	domain.NewWord("тигр", "животные", 2, "Крупная полосатая кошка"),
	domain.NewWord("слон", "животные", 3, "Самое крупное сухопутное животное"),
	domain.NewWord("медведь", "животные", 3, "Зимой впадает в спячку"),
	domain.NewWord("кролик", "животные", 3, "Быстро размножается и боится собак"),
	domain.NewWord("верблюд", "животные", 3, "Животное пустыни с горбами"),

	// Категория: фрукты
	domain.NewWord("киви", "фрукты", 1, "Зеленый фрукт с коричневой кожицей"),
	domain.NewWord("лимон", "фрукты", 1, "Кислый цитрусовый фрукт"),
	domain.NewWord("банан", "фрукты", 1, "Желтый тропический фрукт"),
	domain.NewWord("груша", "фрукты", 1, "Фрукт с сочной мякотью и тонкой кожицей"),
	domain.NewWord("яблоко", "фрукты", 2, "Фрукт, который едят с дерева"),
	domain.NewWord("апельсин", "фрукты", 2, "Цитрусовый фрукт, богатый витамином C"),
	domain.NewWord("виноград", "фрукты", 2, "Фрукт, растущий гроздьями"),
	domain.NewWord("ананас", "фрукты", 2, "Тропический фрукт с колючей коркой"),
	domain.NewWord("персик", "фрукты", 2, "Сочный фрукт с бархатистой кожицей"),
	domain.NewWord("папайя", "фрукты", 3, "Тропический фрукт с оранжевой мякотью"),
	domain.NewWord("авокадо", "фрукты", 3, "Жирный фрукт с зеленой кожицей"),
	domain.NewWord("мандарин", "фрукты", 3, "Маленький цитрусовый фрукт"),
	domain.NewWord("арбуз", "фрукты", 3, "Летний фрукт с красной мякотью и черными семенами"),

	// Категория: профессии
	domain.NewWord("врач", "профессии", 1, "Лечит людей"),
	domain.NewWord("повар", "профессии", 1, "Готовит еду"),
	domain.NewWord("актер", "профессии", 1, "Играет в фильмах и театре"),
	domain.NewWord("кассир", "профессии", 1, "Работает с деньгами в магазине"),
	domain.NewWord("юрист", "профессии", 2, "Специалист по закону"),
	domain.NewWord("инженер", "профессии", 2, "Проектирует и строит"),
	domain.NewWord("водитель", "профессии", 2, "Управляет транспортным средством"),
	domain.NewWord("учитель", "профессии", 2, "Обучает детей"),
	domain.NewWord("журналист", "профессии", 3, "Пишет статьи для газет и сайтов"),
	domain.NewWord("программист", "профессии", 3, "Пишет компьютерные программы"),
	domain.NewWord("архитектор", "профессии", 3, "Проектирует здания"),
	domain.NewWord("полицейский", "профессии", 3, "Охраняет общественный порядок"),

	// Категория: страны
	domain.NewWord("США", "страны", 1, "Американские Соединенные Штаты"),
	domain.NewWord("Куба", "страны", 1, "Островное государство в Карибском море"),
	domain.NewWord("Ирак", "страны", 1, "Государство на Ближнем Востоке"),
	domain.NewWord("Иран", "страны", 1, "Государство в Западной Азии"),
	domain.NewWord("Россия", "страны", 1, "Самая большая страна в мире"),
	domain.NewWord("Китай", "страны", 2, "Государство в Восточной Азии"),
	domain.NewWord("Япония", "страны", 2, "Островное государство в Тихом океане"),
	domain.NewWord("Беларусь", "страны", 2, "Восточноевропейское государство"),
	domain.NewWord("Италия", "страны", 2, "Государство на Апеннинском полуострове"),
	domain.NewWord("Германия", "страны", 2, "Центральноевропейское государство"),
	domain.NewWord("Франция", "страны", 3, "Западноевропейское государство"),
	domain.NewWord("Бразилия", "страны", 3, "Государство в Южной Америке"),
	domain.NewWord("Индонезия", "страны", 3, "Государство в Юго-Восточной Азии"),
	domain.NewWord("австралия", "страны", 3, "Континент и государство в Южном полушарии"),

	// Категория: музыкальные инструменты
	domain.NewWord("арфа", "музыкальные инструменты", 1, "Струнный инструмент с вертикальным расположением струн"),
	domain.NewWord("гитара", "музыкальные инструменты", 1, "Струнный инструмент, популярный в рок-музыке"),
	domain.NewWord("труба", "музыкальные инструменты", 1, "Духовой медный инструмент"),
	domain.NewWord("флейта", "музыкальные инструменты", 1, "Духовой деревянный инструмент"),
	domain.NewWord("барабан", "музыкальные инструменты", 2, "Ударный инструмент"),
	domain.NewWord("скрипка", "музыкальные инструменты", 2, "Смычковый инструмент"),
	domain.NewWord("пианино", "музыкальные инструменты", 2, "Клавишный инструмент"),
	domain.NewWord("саксофон", "музыкальные инструменты", 3, "Духовой инструмент с металлическим корпусом"),
	domain.NewWord("аккордеон", "музыкальные инструменты", 3, "Клавишный механический инструмент"),
	domain.NewWord("виолончель", "музыкальные инструменты", 3, "Смычковый инструмент с низким звуком"),
	domain.NewWord("контрабас", "музыкальные инструменты", 3, "Самый большой смычковый инструмент"),
}

// Ошибка, если подходящее слово не было найдено
var ErrNoWordsFound = errors.New("No words found for the given category and difficulty")

// GetRandomWord выбирает рандомное слово по заданной категории и сложности
func GetRandomWord(category string, difficulty int) (domain.Word, error) {
	var available []domain.Word
	for _, word := range Dictionary {
		if word.Category() == category && word.Difficulty() == difficulty {
			available = append(available, word)
		}
	}

	if len(available) == 0 {
		return domain.Word{}, ErrNoWordsFound
	}

	// Возвращаем случайное слово из подходящих
	return available[rand.Intn(len(available))], nil
}
